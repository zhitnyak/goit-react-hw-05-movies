{"version":3,"sources":["img/defaultImg.jpg","components/pages/Cast.js","components/pages/Reviews.js","components/pages/GoBackBtn.js","components/pages/MovieDetailsPage.js"],"names":["Cast","useState","cast","setCast","movieId","useParams","slug","match","useEffect","getCastMovieInfo","then","data","window","scrollTo","top","document","documentElement","scrollHeight","behavior","className","s","castList","map","actor","itemWrapper","profile_path","src","alt","name","width","defaultImg","castName","id","ReviewsView","reviews","setReviews","getMovieReview","results","length","reviewContainer","review","reviewList","reviewAuthor","author","reviewText","content","GoBackBtn","history","useHistory","location","useLocation","btn","type","onClick","push","state","from","MovieDetailsPage","movie","setMovie","original_title","poster_path","vote_average","genres","overview","useRouteMatch","url","path","getMovieDetails","page","header","wrapper","img","rightSide","genre","genresItem","link","activeClassName","activeLink","to","pathname","exact"],"mappings":"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","file":"static/js/MovieDetailsPage.98598a98.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultImg.eb9aeb3e.jpg\";","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { getCastMovieInfo } from \"../api\";\r\nimport s from \"./page.module.css\";\r\nimport defaultImg from \"../../img/defaultImg.jpg\";\r\nconst IMG_PATH = \"https://image.tmdb.org/t/p/original\";\r\n\r\nexport default function Cast() {\r\n  const [cast, setCast] = useState([]);\r\n  const { slug } = useParams();\r\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\r\n\r\n  function smoothScroll() {\r\n    return window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCastMovieInfo(movieId)\r\n      .then((data) => setCast(data.cast))\r\n      .then(() => smoothScroll());\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {cast && (\r\n        <div>\r\n          <ul className={s.castList}>\r\n            {cast.map((actor) => (\r\n              <div className={s.itemWrapper} key={actor.id}>\r\n                {actor.profile_path ? (\r\n                  <img\r\n                    src={`${IMG_PATH}` + actor.profile_path}\r\n                    alt={actor.name}\r\n                    width=\"135\"\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    className={s.defaultImg}\r\n                    src={defaultImg}\r\n                    alt=\"Not found\"\r\n                    width=\"135\"\r\n                  />\r\n                )}\r\n\r\n                <li className={s.castName}>{actor.name}</li>\r\n              </div>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { getMovieReview } from \"../api\";\r\nimport s from \"./page.module.css\";\r\n\r\nexport default function ReviewsView() {\r\n  const [reviews, setReviews] = useState([]);\r\n  const { slug } = useParams();\r\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\r\n\r\n  function smoothScroll() {\r\n    return window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getMovieReview(movieId)\r\n      .then((data) => setReviews(data.results))\r\n      .then(() => smoothScroll());\r\n  }, [movieId]);\r\n\r\n  if (reviews.length === 0) {\r\n    return <h3>no reviews</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className={s.reviewContainer}>\r\n      {reviews &&\r\n        reviews.map((review) => (\r\n          <li className={s.reviewList} key={review.id}>\r\n            <span className={s.reviewAuthor}>{review.author}</span>\r\n            <p className={s.reviewText}>{review.content}</p>\r\n          </li>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n","import { useHistory, useLocation } from \"react-router-dom\";\r\nimport s from \"./page.module.css\";\r\n\r\nexport default function GoBackBtn() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  function onGoBack() {\r\n    history.push(location?.state?.from ?? \"/\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button className={s.btn} type=\"button\" onClick={onGoBack}>\r\n        Back\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { NavLink, useRouteMatch, useLocation } from \"react-router-dom\";\r\n\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { getMovieDetails } from \"../api\";\r\nimport s from \"./page.module.css\";\r\nimport Cast from \"./Cast\";\r\nimport Reviews from \"./Reviews\";\r\nimport GoBackBtn from \"./GoBackBtn\";\r\n\r\nexport default function MovieDetailsPage() {\r\n  const { slug } = useParams();\r\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\r\n  const [movie, setMovie] = useState(\"\");\r\n  const { original_title, poster_path, vote_average, genres, overview } = movie;\r\n  const IMG_PATH = \"https://image.tmdb.org/t/p/original\";\r\n  const { url, path } = useRouteMatch();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    getMovieDetails(movieId).then((results) => setMovie(results));\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <div className={s.page}>\r\n      <GoBackBtn />\r\n      <h1 className={s.header}>{original_title}</h1>\r\n      <div className={s.wrapper}>\r\n        <img\r\n          className={s.img}\r\n          src={`${IMG_PATH}/${poster_path}`}\r\n          alt={original_title}\r\n        />\r\n        <div className={s.rightSide}>\r\n          <h2>Rating: {vote_average}</h2>\r\n          <div className={s.genres}>\r\n            <h2>Genres: </h2>\r\n            {genres &&\r\n              genres.map((genre) => (\r\n                <h2 key={genre.id} className={s.genresItem}>\r\n                  {genre.name}\r\n                </h2>\r\n              ))}\r\n          </div>\r\n          <h3>Overview: {overview}</h3>\r\n        </div>\r\n      </div>\r\n      <NavLink\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n        to={{\r\n          pathname: `${url}/cast`,\r\n          state: { from: location.state.from },\r\n        }}\r\n      >\r\n        Cast\r\n      </NavLink>\r\n      <NavLink\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n        exact\r\n        to={{\r\n          pathname: `${url}/reviews`,\r\n          state: { from: location.state.from },\r\n        }}\r\n      >\r\n        Reviews\r\n      </NavLink>\r\n      <Switch>\r\n        <Route path={`${path}/cast`}>\r\n          <Cast />\r\n        </Route>\r\n        <Route exact path={`${path}/reviews`}>\r\n          <Reviews />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}